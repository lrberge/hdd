<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extracts a single variable from a HDD object — $.hdd • hdd</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extracts a single variable from a HDD object — $.hdd"><meta property="og:description" content="This method extracts a single variable from a hard drive data set (HDD). There is an automatic protection to avoid extracting too large data into memory. The bound is set by the function setHdd_extract.cap."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hdd</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/hdd_walkthrough.html">hdd walkthrough</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extracts a single variable from a HDD object</h1>
    
    <div class="hidden name"><code>cash-.hdd.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This method extracts a single variable from a hard drive data set (HDD). There is an automatic protection to avoid extracting too large data into memory. The bound is set by the function <code><a href="setHdd_extract.cap.html">setHdd_extract.cap</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre><code># S3 method for hdd
$(x, name)</code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A <code>HDD</code> object.</p></dd>


<dt>name</dt>
<dd><p>The variable name to be extracted.Note that there is an automatic protection for not trying to import data that would not fit into memory. The extraction cap is set with the function <code><a href="setHdd_extract.cap.html">setHdd_extract.cap</a></code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>It returns a vector.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>By default if the expected size of the variable to extract is greater than the value given by <code><a href="setHdd_extract.cap.html">getHdd_extract.cap</a></code> an error is raised.
For numeric variables, the expected size is exact. For non-numeric data, the expected size is a guess that considers all the non-numeric variables being of the same size. This may lead to an over or under estimation depending on the cases.
In any case, if your variable is large and you don't want to change the extraction cap (<code><a href="setHdd_extract.cap.html">setHdd_extract.cap</a></code>), you can still extract the variable with <code>sub-.hdd</code> for which there is no such protection.</p>
<p>Note that you cannot create variables with <code>$</code>, e.g. like <code>base_hdd$x_new &lt;- something</code>. To create variables, use the <code>[</code> instead (see <code>sub-.hdd</code>).</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>See <code><a href="hdd.html">hdd</a></code>, <code>sub-.hdd</code> and <code>cash-.hdd</code> for the extraction and manipulation of out of memory data. For importation of HDD data sets from text files: see <code><a href="txt2hdd.html">txt2hdd</a></code>.</p>
<p>See <code><a href="hdd_slice.html">hdd_slice</a></code> to apply functions to chunks of data (and create HDD objects) and <code><a href="hdd_merge.html">hdd_merge</a></code> to merge large files.</p>
<p>To create/reshape HDD objects from memory or from other HDD objects, see <code><a href="write_hdd.html">write_hdd</a></code>.</p>
<p>To display general information from HDD objects: <code><a href="origin.html">origin</a></code>, <code><a href="summary.hdd.html">summary.hdd</a></code>, <code><a href="print.hdd.html">print.hdd</a></code>, <code><a href="dim.hdd.html">dim.hdd</a></code> and <code><a href="names.hdd.html">names.hdd</a></code>.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent Berge</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Toy example with iris data</span></span></span>
<span class="r-in"><span><span class="co"># We first create a hdd dataset with approx. 100KB</span></span></span>
<span class="r-in"><span><span class="va">hdd_path</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># =&gt; folder where the data will be saved</span></span></span>
<span class="r-in"><span><span class="fu"><a href="write_hdd.html">write_hdd</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">hdd_path</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="fu"><a href="write_hdd.html">write_hdd</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">hdd_path</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">base_hdd</span> <span class="op">=</span> <span class="fu"><a href="hdd.html">hdd</a></span><span class="op">(</span><span class="va">hdd_path</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">base_hdd</span><span class="op">)</span> <span class="co"># =&gt; 11 files</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hard drive data of 48.7 KB. Made of 11 files.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Location: C:/Users/lrberge/AppData/Local/Temp/RtmpKImlA3/filec4784294850/</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1650 lines, 5 variables.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we can extract the data from the 11 files with '$':</span></span></span>
<span class="r-in"><span><span class="va">pl</span> <span class="op">=</span> <span class="va">base_hdd</span><span class="op">$</span><span class="va">Sepal.Length</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Illustration of the protection mechanism:</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># By default when extracting a variable with '$'</span></span></span>
<span class="r-in"><span><span class="co"># and the size exceeds the cap (default is greater than 3GB)</span></span></span>
<span class="r-in"><span><span class="co"># a confirmation is needed.</span></span></span>
<span class="r-in"><span><span class="co"># You can set the cap with setHdd_extract.cap.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Following asks for confirmation in interactive mode:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="setHdd_extract.cap.html">setHdd_extract.cap</a></span><span class="op">(</span>sizeMB <span class="op">=</span> <span class="fl">0.005</span><span class="op">)</span> <span class="co"># new cap of 5KB</span></span></span>
<span class="r-in"><span><span class="va">pl</span> <span class="op">=</span> <span class="va">base_hdd</span><span class="op">$</span><span class="va">Sepal.Length</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in `$.hdd`(base_hdd, Sepal.Length):</span> Cannot extract variable Sepal.Length because its size (0.013 MB) is greater than the cap of 0.005 MB. You can change the cap using setHdd_extract.cap(new_cap).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To extract the variable without changing the cap:</span></span></span>
<span class="r-in"><span><span class="va">pl</span> <span class="op">=</span> <span class="va">base_hdd</span><span class="op">[</span>, <span class="va">Sepal.Length</span><span class="op">]</span> <span class="co"># =&gt; no size control is performed</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Resetting the default cap</span></span></span>
<span class="r-in"><span><span class="fu"><a href="setHdd_extract.cap.html">setHdd_extract.cap</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

